---
title: "Vue3ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã¤ã„ã¦èª¿ã¹ã¦ã¿ãŸ"
emoji: "ğŸš€"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["vue", "javascript", "frontend"]
published: false
---

# Vue3ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼šVue Router 4ã§SPAã‚’æ§‹ç¯‰ã—ã‚ˆã†

Vue3ã§ã‚·ãƒ³ã‚°ãƒ«ãƒšãƒ¼ã‚¸ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆSPAï¼‰ã‚’æ§‹ç¯‰ã™ã‚‹éš›ã«æ¬ ã‹ã›ãªã„ã®ãŒãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã§ã™ã€‚Vue Router 4ã¯ã€Vue3ã«æœ€é©åŒ–ã•ã‚ŒãŸå…¬å¼ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€ãƒ¢ãƒ€ãƒ³ãªWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹ç¯‰ã‚’å¼·åŠ›ã«ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

ã“ã®è¨˜äº‹ã§ã¯ã€Vue Router 4ã®åŸºæœ¬çš„ãªä½¿ã„æ–¹ã‹ã‚‰å®Ÿè·µçš„ãªå¿œç”¨ã¾ã§ã€æ®µéšçš„ã«è§£èª¬ã—ã¦ã„ãã¾ã™ã€‚åˆå¿ƒè€…ã®æ–¹ã§ã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã€æ¦‚å¿µã®èª¬æ˜ã‹ã‚‰å§‹ã¾ã‚Šã€å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’è±Šå¯Œã«äº¤ãˆãªãŒã‚‰é€²ã‚ã¦ã„ãã¾ã™ã€‚

## Vue Router 4ã¨ã¯ï¼Ÿ

Vue Router 4ã¯ã€Vue3å°‚ç”¨ã«è¨­è¨ˆã•ã‚ŒãŸå…¬å¼ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚Vue2ã§ä½¿ç”¨ã•ã‚Œã¦ã„ãŸVue Router 3ã‹ã‚‰å¤§å¹…ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã•ã‚Œã€Composition APIã¨ã®è¦ªå’Œæ€§ãŒå‘ä¸Šã—ã€TypeScriptã‚µãƒãƒ¼ãƒˆã‚‚å¼·åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚

### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ã¯ï¼Ÿ

ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ã¯ã€URLã®å¤‰æ›´ã«å¿œã˜ã¦ç•°ãªã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚å¾“æ¥ã®Webã‚µã‚¤ãƒˆã§ã¯ã€ãƒšãƒ¼ã‚¸ã‚’ç§»å‹•ã™ã‚‹ãŸã³ã«ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰æ–°ã—ã„HTMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—ã—ã¦ã„ã¾ã—ãŸãŒã€SPAã§ã¯JavaScriptã‚’ä½¿ã£ã¦å‹•çš„ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åˆ‡ã‚Šæ›¿ãˆã¾ã™ã€‚

**å¾“æ¥ã®Webã‚µã‚¤ãƒˆï¼ˆMPAï¼‰:**
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ ã‚µãƒ¼ãƒãƒ¼ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ â†’ æ–°ã—ã„HTMLãƒšãƒ¼ã‚¸ã‚’è¿”ã™ â†’ ãƒšãƒ¼ã‚¸å…¨ä½“ãŒå†èª­ã¿è¾¼ã¿
```

**SPAï¼ˆSingle Page Applicationï¼‰:**
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ JavaScriptãŒURLã‚’å¤‰æ›´ â†’ å¯¾å¿œã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¡¨ç¤º â†’ ãƒšãƒ¼ã‚¸ã¯å†èª­ã¿è¾¼ã¿ã•ã‚Œãªã„
```

### Vue Router 3ã‹ã‚‰ã®ä¸»ãªå¤‰æ›´ç‚¹

Vue Router 4ã§ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªé‡è¦ãªå¤‰æ›´ãŒè¡Œã‚ã‚Œã¾ã—ãŸï¼š

#### 1. Composition APIå¯¾å¿œ
- **Vue Router 3**: Options APIã®ã¿ã‚µãƒãƒ¼ãƒˆ
- **Vue Router 4**: `useRouter()`ã¨`useRoute()`ãƒ•ãƒƒã‚¯ã‚’è¿½åŠ ã—ã€Composition APIã§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã‚’åˆ©ç”¨å¯èƒ½

```javascript
// Vue Router 3 (Options API)
export default {
  methods: {
    goToAbout() {
      this.$router.push('/about')
    }
  },
  computed: {
    currentPath() {
      return this.$route.path
    }
  }
}

// Vue Router 4 (Composition API)
import { useRouter, useRoute } from 'vue-router'

export default {
  setup() {
    const router = useRouter()
    const route = useRoute()
    
    const goToAbout = () => {
      router.push('/about')
    }
    
    const currentPath = computed(() => route.path)
    
    return { goToAbout, currentPath }
  }
}
```

#### 2. TypeScriptã‚µãƒãƒ¼ãƒˆã®å¼·åŒ–
- ã‚ˆã‚Šå³å¯†ãªå‹å®šç¾©ã«ã‚ˆã‚Šã€é–‹ç™ºæ™‚ã®å‹å®‰å…¨æ€§ãŒå‘ä¸Š
- ãƒ«ãƒ¼ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚„ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å‹æ¨è«–ãŒæ”¹å–„

#### 3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸Š
- ã‚ˆã‚ŠåŠ¹ç‡çš„ãªãƒ«ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®å‰Šæ¸›

#### 4. æ–°ã—ã„ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ãƒ¼ãƒ‰
- ã‚ˆã‚ŠæŸ”è»Ÿãªã‚¬ãƒ¼ãƒ‰æ©Ÿèƒ½
- éåŒæœŸå‡¦ç†ã®æ”¹å–„

### ãªãœVue RouterãŒå¿…è¦ãªã®ã‹ï¼Ÿ

Vue Routerã‚’ä½¿ã‚ãšã«SPAã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ãŒã€ä»¥ä¸‹ã®ç†ç”±ã‹ã‚‰Vue Routerã®ä½¿ç”¨ã‚’å¼·ãæ¨å¥¨ã—ã¾ã™ï¼š

1. **URLç®¡ç†**: ãƒ–ãƒ©ã‚¦ã‚¶ã®æˆ»ã‚‹/é€²ã‚€ãƒœã‚¿ãƒ³ãŒæ­£å¸¸ã«å‹•ä½œ
2. **ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯å¯¾å¿œ**: ç‰¹å®šã®ãƒšãƒ¼ã‚¸ã‚’ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ã§ãã‚‹
3. **SEOå¯¾å¿œ**: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆSSRï¼‰ã¨ã®é€£æºãŒå®¹æ˜“
4. **é–‹ç™ºåŠ¹ç‡**: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°é–¢é€£ã®æ©Ÿèƒ½ãŒæ¨™æº–åŒ–ã•ã‚Œã¦ã„ã‚‹
5. **ä¿å®ˆæ€§**: ãƒãƒ¼ãƒ é–‹ç™ºã§ã®ä¸€è²«ã—ãŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å®Ÿè£…

## åŸºæœ¬çš„ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

Vue Router 4ã‚’ä½¿ã£ãŸåŸºæœ¬çš„ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†ã€‚ã“ã“ã§ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸè¨­å®šã‹ã‚‰å®Ÿéš›ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒå‹•ä½œã™ã‚‹ã¾ã§ã®æ‰‹é †ã‚’è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã¾ãšã€Vue Router 4ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```bash
# npmã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
npm install vue-router@4

# yarnã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
yarn add vue-router@4

# pnpmã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
pnpm add vue-router@4
```

**æ³¨æ„**: Vue Router 4ã¯Vue3å°‚ç”¨ã§ã™ã€‚Vue2ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯Vue Router 3ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®æº–å‚™

ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã‚’æ•´ç†ã—ã¦ç®¡ç†ã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’æ¨å¥¨ã—ã¾ã™ï¼š

```
src/
â”œâ”€â”€ components/          # å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ views/              # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ Home.vue
â”‚   â”œâ”€â”€ About.vue
â”‚   â””â”€â”€ Contact.vue
â”œâ”€â”€ router/             # ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ App.vue
â””â”€â”€ main.js
```

### ãƒ«ãƒ¼ã‚¿ãƒ¼ã®è¨­å®š

`router/index.js`ãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’è¨­å®šã—ã¾ã™ï¼š

```javascript
// router/index.js
import { createRouter, createWebHistory } from 'vue-router'
import Home from '../views/Home.vue'
import About from '../views/About.vue'

// ãƒ«ãƒ¼ãƒˆå®šç¾©
const routes = [
  {
    path: '/',           // URLãƒ‘ã‚¹
    name: 'Home',        // ãƒ«ãƒ¼ãƒˆåï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
    component: Home      // è¡¨ç¤ºã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  },
  {
    path: '/about',
    name: 'About',
    component: About
  }
]

// ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä½œæˆ
const router = createRouter({
  history: createWebHistory(),  // HTML5 History APIã‚’ä½¿ç”¨
  routes                        // ãƒ«ãƒ¼ãƒˆå®šç¾©
})

export default router
```

#### ãƒ«ãƒ¼ãƒˆè¨­å®šã®è©³ç´°èª¬æ˜

å„ãƒ«ãƒ¼ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ä»¥ä¸‹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨­å®šã§ãã¾ã™ï¼š

- **path**: URLãƒ‘ã‚¹ï¼ˆå¿…é ˆï¼‰
- **name**: ãƒ«ãƒ¼ãƒˆåï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã§ä½¿ç”¨ï¼‰
- **component**: è¡¨ç¤ºã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆå¿…é ˆï¼‰
- **components**: è¤‡æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¡¨ç¤ºã™ã‚‹å ´åˆ
- **redirect**: ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆå…ˆ
- **alias**: ã‚¨ã‚¤ãƒªã‚¢ã‚¹ï¼ˆåˆ¥åï¼‰
- **meta**: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
- **props**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

#### History Modeã®é¸æŠ

Vue Router 4ã§ã¯ã€ä»¥ä¸‹ã®History Modeã‚’é¸æŠã§ãã¾ã™ï¼š

```javascript
// HTML5 History APIï¼ˆæ¨å¥¨ï¼‰
history: createWebHistory()

// Hash Modeï¼ˆ#ä»˜ãURLï¼‰
history: createWebHashHistory()

// Memory Historyï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
history: createMemoryHistory()
```

**HTML5 History API**ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€ã‚µãƒ¼ãƒãƒ¼å´ã§SPAã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¨­å®šãŒå¿…è¦ã§ã™ã€‚

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã®ä½¿ç”¨

`main.js`ã§ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ç™»éŒ²ã—ã¾ã™ï¼š

```javascript
// main.js
import { createApp } from 'vue'
import App from './App.vue'
import router from './router'

const app = createApp(App)

// ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ç™»éŒ²
app.use(router)

// ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒã‚¦ãƒ³ãƒˆ
app.mount('#app')
```

### ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒªãƒ³ã‚¯ã¨ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ“ãƒ¥ãƒ¼

`App.vue`ã§ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¡¨ç¤ºã‚’è¨­å®šã—ã¾ã™ï¼š

```vue
<!-- App.vue -->
<template>
  <div id="app">
    <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <nav class="navbar">
      <div class="nav-brand">
        <h1>My App</h1>
      </div>
      <div class="nav-links">
        <router-link to="/" class="nav-link">ãƒ›ãƒ¼ãƒ </router-link>
        <router-link to="/about" class="nav-link">ã«ã¤ã„ã¦</router-link>
      </div>
    </nav>
    
    <!-- ãƒ«ãƒ¼ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
    <main class="main-content">
      <router-view />
    </main>
  </div>
</template>

<style scoped>
.navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 2rem;
  background-color: #2c3e50;
  color: white;
}

.nav-links {
  display: flex;
  gap: 1rem;
}

.nav-link {
  color: white;
  text-decoration: none;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  transition: background-color 0.3s;
}

.nav-link:hover {
  background-color: #34495e;
}

.nav-link.router-link-active {
  background-color: #3498db;
}

.main-content {
  padding: 2rem;
}
</style>
```

### åŸºæœ¬çš„ãªãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

å„ãƒšãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ï¼š

```vue
<!-- views/Home.vue -->
<template>
  <div class="home">
    <h1>ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸</h1>
    <p>Vue Router 4ã‚’ä½¿ã£ãŸSPAã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã§ã™ã€‚</p>
    <div class="features">
      <h2>ä¸»ãªæ©Ÿèƒ½</h2>
      <ul>
        <li>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</li>
        <li>ãƒ–ãƒ©ã‚¦ã‚¶ã®æˆ»ã‚‹/é€²ã‚€ãƒœã‚¿ãƒ³å¯¾å¿œ</li>
        <li>ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯å¯¾å¿œ</li>
        <li>SEOå¯¾å¿œï¼ˆSSRä½¿ç”¨æ™‚ï¼‰</li>
      </ul>
    </div>
  </div>
</template>

<script setup>
// Composition APIã‚’ä½¿ç”¨ã—ãŸå ´åˆã®ä¾‹
import { onMounted } from 'vue'

onMounted(() => {
  console.log('ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ãŒãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¾ã—ãŸ')
})
</script>

<style scoped>
.home {
  max-width: 800px;
  margin: 0 auto;
}

.features {
  margin-top: 2rem;
  padding: 1rem;
  background-color: #f8f9fa;
  border-radius: 8px;
}

.features ul {
  list-style-type: disc;
  margin-left: 2rem;
}
</style>
```

```vue
<!-- views/About.vue -->
<template>
  <div class="about">
    <h1>ã“ã®ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦</h1>
    <p>Vue3ã¨Vue Router 4ã‚’ä½¿ç”¨ã—ã¦æ§‹ç¯‰ã•ã‚ŒãŸã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚</p>
    
    <section class="tech-stack">
      <h2>ä½¿ç”¨æŠ€è¡“</h2>
      <div class="tech-grid">
        <div class="tech-item">
          <h3>Vue 3</h3>
          <p>æœ€æ–°ã®Vue.jsãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</p>
        </div>
        <div class="tech-item">
          <h3>Vue Router 4</h3>
          <p>å…¬å¼ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</p>
        </div>
        <div class="tech-item">
          <h3>Composition API</h3>
          <p>Vue3ã®æ–°ã—ã„API</p>
        </div>
      </div>
    </section>
  </div>
</template>

<style scoped>
.about {
  max-width: 800px;
  margin: 0 auto;
}

.tech-stack {
  margin-top: 2rem;
}

.tech-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
  margin-top: 1rem;
}

.tech-item {
  padding: 1rem;
  border: 1px solid #ddd;
  border-radius: 8px;
  text-align: center;
}

.tech-item h3 {
  color: #2c3e50;
  margin-bottom: 0.5rem;
}
</style>
```

### å‹•ä½œç¢ºèª

ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ãŸã‚‰ã€ä»¥ä¸‹ã®æ‰‹é †ã§å‹•ä½œã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

1. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
```bash
npm run dev
# ã¾ãŸã¯
yarn dev
```

2. ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹
3. ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒšãƒ¼ã‚¸ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
4. ãƒ–ãƒ©ã‚¦ã‚¶ã®æˆ»ã‚‹/é€²ã‚€ãƒœã‚¿ãƒ³ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
5. ç›´æ¥URLã‚’å…¥åŠ›ã—ã¦ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

ã“ã‚Œã§åŸºæœ¬çš„ãªVue Router 4ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸã€‚æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ã‚ˆã‚Šé«˜åº¦ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

## ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

Vue Router 4ã§ã¯ã€ãƒšãƒ¼ã‚¸é–“ã®ç§»å‹•ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«2ã¤ã®ä¸»è¦ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ–¹æ³•ãŒã‚ã‚Šã¾ã™ï¼š**å®£è¨€çš„ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**ã¨**ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**ã§ã™ã€‚ãã‚Œãã‚Œã®ç‰¹å¾´ã¨ä½¿ã„åˆ†ã‘ã«ã¤ã„ã¦è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚

### å®£è¨€çš„ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

å®£è¨€çš„ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€`<router-link>`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã§ãƒªãƒ³ã‚¯ã‚’å®šç¾©ã™ã‚‹æ–¹æ³•ã§ã™ã€‚HTMLã®`<a>`ã‚¿ã‚°ã¨ä¼¼ãŸä½¿ã„æ–¹ã§ã€ç›´æ„Ÿçš„ã§ç†è§£ã—ã‚„ã™ã„ã®ãŒç‰¹å¾´ã§ã™ã€‚

#### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```vue
<template>
  <div class="navigation">
    <!-- åŸºæœ¬çš„ãªãƒªãƒ³ã‚¯ -->
    <router-link to="/">ãƒ›ãƒ¼ãƒ </router-link>
    <router-link to="/about">ã«ã¤ã„ã¦</router-link>
    <router-link to="/contact">ãŠå•ã„åˆã‚ã›</router-link>
  </div>
</template>
```

#### åå‰ä»˜ããƒ«ãƒ¼ãƒˆã®ä½¿ç”¨

ãƒ«ãƒ¼ãƒˆã«`name`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨­å®šã—ã¦ã„ã‚‹å ´åˆã€ãƒ‘ã‚¹ã§ã¯ãªãåå‰ã§ãƒªãƒ³ã‚¯ã‚’æŒ‡å®šã§ãã¾ã™ï¼š

```vue
<template>
  <div class="navigation">
    <!-- åå‰ä»˜ããƒ«ãƒ¼ãƒˆã‚’ä½¿ç”¨ -->
    <router-link :to="{ name: 'Home' }">ãƒ›ãƒ¼ãƒ </router-link>
    <router-link :to="{ name: 'About' }">ã«ã¤ã„ã¦</router-link>
    <router-link :to="{ name: 'Contact' }">ãŠå•ã„åˆã‚ã›</router-link>
  </div>
</template>
```

**åå‰ä»˜ããƒ«ãƒ¼ãƒˆã®åˆ©ç‚¹:**
- URLãƒ‘ã‚¹ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚ã€åå‰ãŒå¤‰ã‚ã‚‰ãªã„é™ã‚Šãƒªãƒ³ã‚¯ãŒå£Šã‚Œãªã„
- ã‚ˆã‚Šèª­ã¿ã‚„ã™ãã€ä¿å®ˆã—ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰
- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ™‚ã®å½±éŸ¿ã‚’æœ€å°é™ã«æŠ‘åˆ¶

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã‚¯ã‚¨ãƒªã®ä½¿ç”¨

```vue
<template>
  <div class="navigation">
    <!-- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ããƒ«ãƒ¼ãƒˆ -->
    <router-link :to="{ name: 'User', params: { id: 123 } }">
      ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°
    </router-link>
    
    <!-- ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ã -->
    <router-link :to="{ name: 'Search', query: { q: 'vue', page: 1 } }">
      æ¤œç´¢çµæœ
    </router-link>
    
    <!-- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã‚¯ã‚¨ãƒªã®çµ„ã¿åˆã‚ã› -->
    <router-link :to="{ 
      name: 'Product', 
      params: { id: 456 }, 
      query: { color: 'red', size: 'L' } 
    }">
      å•†å“è©³ç´°
    </router-link>
  </div>
</template>
```

#### ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¯ãƒ©ã‚¹ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

ç¾åœ¨ã®ãƒ«ãƒ¼ãƒˆã«ãƒãƒƒãƒã™ã‚‹ãƒªãƒ³ã‚¯ã«ã¯è‡ªå‹•çš„ã«`router-link-active`ã‚¯ãƒ©ã‚¹ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ï¼š

```vue
<template>
  <nav class="navbar">
    <router-link 
      to="/" 
      class="nav-link"
      active-class="nav-link-active"
      exact-active-class="nav-link-exact-active"
    >
      ãƒ›ãƒ¼ãƒ 
    </router-link>
    
    <router-link 
      to="/about" 
      class="nav-link"
      active-class="nav-link-active"
      exact-active-class="nav-link-exact-active"
    >
      ã«ã¤ã„ã¦
    </router-link>
  </nav>
</template>

<style scoped>
.nav-link {
  padding: 0.5rem 1rem;
  text-decoration: none;
  color: #666;
  border-radius: 4px;
  transition: all 0.3s;
}

.nav-link-active {
  background-color: #e3f2fd;
  color: #1976d2;
}

.nav-link-exact-active {
  background-color: #1976d2;
  color: white;
  font-weight: bold;
}
</style>
```

**active-class vs exact-active-class:**
- `active-class`: ãƒ«ãƒ¼ãƒˆãŒéƒ¨åˆ†çš„ã«ãƒãƒƒãƒã—ãŸå ´åˆã«é©ç”¨
- `exact-active-class`: ãƒ«ãƒ¼ãƒˆãŒå®Œå…¨ã«ãƒãƒƒãƒã—ãŸå ´åˆã«é©ç”¨

#### ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚°ã®ä½¿ç”¨

`<router-link>`ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§`<a>`ã‚¿ã‚°ã¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã¾ã™ãŒã€`tag`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§å¤‰æ›´ã§ãã¾ã™ï¼š

```vue
<template>
  <div class="button-navigation">
    <!-- ãƒœã‚¿ãƒ³ã¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° -->
    <router-link to="/" tag="button" class="btn">
      ãƒ›ãƒ¼ãƒ 
    </router-link>
    
    <!-- divã¨ã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° -->
    <router-link to="/about" tag="div" class="nav-item">
      ã«ã¤ã„ã¦
    </router-link>
  </div>
</template>
```

### ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€JavaScriptã‚³ãƒ¼ãƒ‰å†…ã§ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨ã—ã¦ãƒšãƒ¼ã‚¸ã‚’ç§»å‹•ã™ã‚‹æ–¹æ³•ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œã‚„æ¡ä»¶ã«å¿œã˜ã¦å‹•çš„ã«ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åˆ¶å¾¡ã—ãŸã„å ´åˆã«ä½¿ç”¨ã—ã¾ã™ã€‚

#### Composition APIã§ã®åŸºæœ¬çš„ãªä½¿ã„æ–¹

```vue
<template>
  <div class="navigation-controls">
    <button @click="goToHome">ãƒ›ãƒ¼ãƒ ã¸</button>
    <button @click="goToAbout">ã«ã¤ã„ã¦ã¸</button>
    <button @click="goToUser">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒšãƒ¼ã‚¸ã¸</button>
    <button @click="goBack">æˆ»ã‚‹</button>
    <button @click="goForward">é€²ã‚€</button>
  </div>
</template>

<script setup>
import { useRouter } from 'vue-router'

const router = useRouter()

// åŸºæœ¬çš„ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
const goToHome = () => {
  router.push('/')
}

const goToAbout = () => {
  router.push('/about')
}

// åå‰ä»˜ããƒ«ãƒ¼ãƒˆã‚’ä½¿ç”¨
const goToUser = () => {
  router.push({ name: 'User', params: { id: 123 } })
}

// å±¥æ­´æ“ä½œ
const goBack = () => {
  router.go(-1)  // 1ã¤å‰ã®ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹
}

const goForward = () => {
  router.go(1)   // 1ã¤å…ˆã®ãƒšãƒ¼ã‚¸ã«é€²ã‚€
}
</script>
```

#### ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ã‚½ãƒƒãƒ‰ã®è©³ç´°

Vue Router 4ã§ã¯ä»¥ä¸‹ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ã‚½ãƒƒãƒ‰ãŒåˆ©ç”¨ã§ãã¾ã™ï¼š

```javascript
// router.push() - æ–°ã—ã„ã‚¨ãƒ³ãƒˆãƒªã‚’å±¥æ­´ã‚¹ã‚¿ãƒƒã‚¯ã«è¿½åŠ 
router.push('/about')
router.push({ name: 'About' })
router.push({ name: 'User', params: { id: 123 } })

// router.replace() - ç¾åœ¨ã®ã‚¨ãƒ³ãƒˆãƒªã‚’ç½®ãæ›ãˆã‚‹ï¼ˆå±¥æ­´ã«è¿½åŠ ã—ãªã„ï¼‰
router.replace('/about')
router.replace({ name: 'About' })

// router.go() - å±¥æ­´ã‚’æŒ‡å®šã—ãŸæ•°ã ã‘é€²ã‚€/æˆ»ã‚‹
router.go(1)    // 1ã¤é€²ã‚€
router.go(-1)   // 1ã¤æˆ»ã‚‹
router.go(0)    // ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰

// router.back() - 1ã¤æˆ»ã‚‹ï¼ˆrouter.go(-1)ã¨åŒã˜ï¼‰
router.back()

// router.forward() - 1ã¤é€²ã‚€ï¼ˆrouter.go(1)ã¨åŒã˜ï¼‰
router.forward()
```

#### æ¡ä»¶ä»˜ããƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®çŠ¶æ…‹ã‚„æ¡ä»¶ã«å¿œã˜ã¦ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åˆ¶å¾¡ã™ã‚‹ä¾‹ï¼š

```vue
<template>
  <div class="user-actions">
    <button @click="handleLogin">ãƒ­ã‚°ã‚¤ãƒ³</button>
    <button @click="handleLogout">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
    <button @click="viewProfile">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¡¨ç¤º</button>
  </div>
</template>

<script setup>
import { useRouter } from 'vue-router'
import { ref } from 'vue'

const router = useRouter()
const isLoggedIn = ref(false)

const handleLogin = () => {
  // ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†
  isLoggedIn.value = true
  // ãƒ­ã‚°ã‚¤ãƒ³å¾Œã«ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
  router.push('/dashboard')
}

const handleLogout = () => {
  // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†
  isLoggedIn.value = false
  // ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå¾Œã«ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
  router.replace('/')
}

const viewProfile = () => {
  if (isLoggedIn.value) {
    router.push('/profile')
  } else {
    // æœªãƒ­ã‚°ã‚¤ãƒ³ã®å ´åˆã¯ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
    router.push('/login')
  }
}
</script>
```

#### éåŒæœŸãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã‚„å‡¦ç†ã‚’å¾…ã£ã¦ã‹ã‚‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ä¾‹ï¼š

```vue
<script setup>
import { useRouter } from 'vue-router'
import { ref } from 'vue'

const router = useRouter()
const isLoading = ref(false)

const saveAndNavigate = async () => {
  isLoading.value = true
  
  try {
    // ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜å‡¦ç†
    await saveUserData()
    
    // ä¿å­˜æˆåŠŸå¾Œã«ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
    router.push('/success')
  } catch (error) {
    console.error('ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ:', error)
    // ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸ã«ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
    router.push('/error')
  } finally {
    isLoading.value = false
  }
}

const saveUserData = () => {
  return new Promise((resolve, reject) => {
    // å®Ÿéš›ã®APIå‘¼ã³å‡ºã—ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
    setTimeout(() => {
      Math.random() > 0.5 ? resolve() : reject(new Error('ä¿å­˜å¤±æ•—'))
    }, 1000)
  })
}
</script>
```

#### ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«

ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ãŸã„å ´åˆã®ä¾‹ï¼š

```vue
<script setup>
import { useRouter } from 'vue-router'
import { ref } from 'vue'

const router = useRouter()
const hasUnsavedChanges = ref(false)

const navigateWithConfirmation = (to) => {
  if (hasUnsavedChanges.value) {
    const confirmed = confirm('ä¿å­˜ã•ã‚Œã¦ã„ãªã„å¤‰æ›´ãŒã‚ã‚Šã¾ã™ã€‚æœ¬å½“ã«ç§»å‹•ã—ã¾ã™ã‹ï¼Ÿ')
    if (confirmed) {
      router.push(to)
    }
  } else {
    router.push(to)
  }
}

const saveChanges = () => {
  // ä¿å­˜å‡¦ç†
  hasUnsavedChanges.value = false
  console.log('å¤‰æ›´ãŒä¿å­˜ã•ã‚Œã¾ã—ãŸ')
}
</script>
```

### ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½¿ã„åˆ†ã‘

**å®£è¨€çš„ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ`<router-link>`ï¼‰ã‚’ä½¿ã†å ´åˆ:**
- é™çš„ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
- ã‚·ãƒ³ãƒ—ãƒ«ãªãƒšãƒ¼ã‚¸é–“ã®ç§»å‹•
- SEOã‚’é‡è¦–ã™ã‚‹å ´åˆï¼ˆæ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒãƒªãƒ³ã‚¯ã‚’èªè­˜ã—ã‚„ã™ã„ï¼‰

**ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ`router.push()`ãªã©ï¼‰ã‚’ä½¿ã†å ´åˆ:**
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œã«å¿œã˜ãŸå‹•çš„ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- æ¡ä»¶ä»˜ãã®ãƒšãƒ¼ã‚¸ç§»å‹•
- ãƒ‡ãƒ¼ã‚¿å‡¦ç†å¾Œã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
- ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å¾Œã®ãƒšãƒ¼ã‚¸ç§»å‹•

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®è€ƒæ…®äº‹é …

å¤§é‡ã®ãƒªãƒ³ã‚¯ãŒã‚ã‚‹å ´åˆã®æœ€é©åŒ–ä¾‹ï¼š

```vue
<template>
  <nav class="mega-menu">
    <div v-for="category in categories" :key="category.id" class="category">
      <h3>{{ category.name }}</h3>
      <ul>
        <li v-for="item in category.items" :key="item.id">
          <router-link 
            :to="{ name: 'Product', params: { id: item.id } }"
            class="product-link"
          >
            {{ item.name }}
          </router-link>
        </li>
      </ul>
    </div>
  </nav>
</template>

<script setup>
import { ref, onMounted } from 'vue'

const categories = ref([])

onMounted(async () => {
  // ã‚«ãƒ†ã‚´ãƒªãƒ‡ãƒ¼ã‚¿ã‚’éåŒæœŸã§å–å¾—
  categories.value = await fetchCategories()
})

const fetchCategories = async () => {
  // å®Ÿéš›ã®APIå‘¼ã³å‡ºã—
  return [
    { id: 1, name: 'ã‚«ãƒ†ã‚´ãƒª1', items: [...] },
    { id: 2, name: 'ã‚«ãƒ†ã‚´ãƒª2', items: [...] }
  ]
}
</script>
```

ã“ã‚Œã§ã€Vue Router 4ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã«ã¤ã„ã¦åŒ…æ‹¬çš„ã«ç†è§£ã§ãã¾ã—ãŸã€‚æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã¤ã„ã¦è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚

## å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯ã€URLãƒ‘ã‚¹ã«å¤‰æ•°ã‚’å«ã‚ã‚‹ã“ã¨ã§ã€åŒã˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ç•°ãªã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚ä¾‹ãˆã°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚„å•†å“IDãªã©ã®å‹•çš„ãªå€¤ã‚’URLã«å«ã‚ã¦ã€ãã‚Œã«å¿œã˜ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ããƒ«ãƒ¼ãƒˆ

#### åŸºæœ¬çš„ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

URLãƒ‘ã‚¹ã«ã‚³ãƒ­ãƒ³ï¼ˆ`:`ï¼‰ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§ã€å‹•çš„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å®šç¾©ã§ãã¾ã™ï¼š

```javascript
// router/index.js
const routes = [
  {
    path: '/user/:id',        // :id ãŒå‹•çš„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
    name: 'User',
    component: User
  },
  {
    path: '/product/:category/:id',  // è¤‡æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
    name: 'Product',
    component: Product
  },
  {
    path: '/user/:id/post/:postId',  // ãƒã‚¹ãƒˆã—ãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
    name: 'UserPost',
    component: UserPost
  }
]
```

**URLä¾‹:**
- `/user/123` â†’ `{ id: '123' }`
- `/product/electronics/456` â†’ `{ category: 'electronics', id: '456' }`
- `/user/123/post/789` â†’ `{ id: '123', postId: '789' }`

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å–å¾—

Composition APIã‚’ä½¿ç”¨ã—ã¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ï¼š

```vue
<!-- User.vue -->
<template>
  <div class="user-profile">
    <h1>ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°</h1>
    <div v-if="loading" class="loading">èª­ã¿è¾¼ã¿ä¸­...</div>
    <div v-else-if="user" class="user-info">
      <img :src="user.avatar" :alt="user.name" class="avatar">
      <h2>{{ user.name }}</h2>
      <p>{{ user.email }}</p>
      <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ID: {{ userId }}</p>
    </div>
    <div v-else class="error">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</div>
  </div>
</template>

<script setup>
import { useRoute } from 'vue-router'
import { ref, watch, onMounted } from 'vue'

const route = useRoute()
const userId = ref(route.params.id)
const user = ref(null)
const loading = ref(false)

// ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å¤‰æ›´ã‚’ç›£è¦–
watch(() => route.params.id, async (newId) => {
  userId.value = newId
  await loadUser(newId)
})

onMounted(() => {
  loadUser(userId.value)
})

const loadUser = async (id) => {
  loading.value = true
  try {
    const response = await fetch(`/api/users/${id}`)
    if (response.ok) {
      user.value = await response.json()
    } else {
      user.value = null
    }
  } catch (error) {
    console.error('ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®å–å¾—ã«å¤±æ•—:', error)
    user.value = null
  } finally {
    loading.value = false
  }
}
</script>

<style scoped>
.user-profile {
  max-width: 600px;
  margin: 0 auto;
  padding: 2rem;
}

.loading {
  text-align: center;
  padding: 2rem;
}

.user-info {
  text-align: center;
}

.avatar {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  margin-bottom: 1rem;
}

.error {
  color: #e74c3c;
  text-align: center;
  padding: 2rem;
}
</style>
```

#### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å‹å¤‰æ›

URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯å¸¸ã«æ–‡å­—åˆ—ã¨ã—ã¦å–å¾—ã•ã‚Œã¾ã™ã€‚æ•°å€¤ã¨ã—ã¦ä½¿ç”¨ã—ãŸã„å ´åˆã¯å¤‰æ›ãŒå¿…è¦ã§ã™ï¼š

```vue
<script setup>
import { useRoute } from 'vue-router'
import { computed } from 'vue'

const route = useRoute()

// æ–‡å­—åˆ—ã¨ã—ã¦å–å¾—
const userIdString = route.params.id

// æ•°å€¤ã«å¤‰æ›
const userId = computed(() => parseInt(route.params.id, 10))

// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ãã®å¤‰æ›
const validUserId = computed(() => {
  const id = parseInt(route.params.id, 10)
  return isNaN(id) ? null : id
})

// ä½¿ç”¨ä¾‹
const loadUserData = async () => {
  if (validUserId.value) {
    const userData = await fetchUser(validUserId.value)
    return userData
  } else {
    throw new Error('ç„¡åŠ¹ãªãƒ¦ãƒ¼ã‚¶ãƒ¼IDã§ã™')
  }
}
</script>
```

### ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰

#### ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å¾Œã«`?`ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§ã€ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ï¼ˆä»»æ„ï¼‰ã«ã§ãã¾ã™ï¼š

```javascript
const routes = [
  {
    path: '/user/:id?',  // idã¯ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«
    name: 'User',
    component: User
  },
  {
    path: '/blog/:category?/:post?',  // ä¸¡æ–¹ã¨ã‚‚ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«
    name: 'Blog',
    component: Blog
  }
]
```

**URLä¾‹:**
- `/user` â†’ `{ id: undefined }`
- `/user/123` â†’ `{ id: '123' }`
- `/blog` â†’ `{ category: undefined, post: undefined }`
- `/blog/tech` â†’ `{ category: 'tech', post: undefined }`
- `/blog/tech/vue3` â†’ `{ category: 'tech', post: 'vue3' }`

#### ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰

`*`ã‚’ä½¿ç”¨ã—ã¦ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®šç¾©ã§ãã¾ã™ï¼š

```javascript
const routes = [
  {
    path: '/user-*',  // /user-ã§å§‹ã¾ã‚‹ä»»æ„ã®ãƒ‘ã‚¹
    name: 'UserWildcard',
    component: UserWildcard
  },
  {
    path: '/files/*',  // /files/ã§å§‹ã¾ã‚‹ä»»æ„ã®ãƒ‘ã‚¹
    name: 'FileBrowser',
    component: FileBrowser
  }
]
```

#### 404ãƒšãƒ¼ã‚¸ã®å®Ÿè£…

ã™ã¹ã¦ã®ãƒ‘ã‚¹ã«ãƒãƒƒãƒã™ã‚‹ãƒ«ãƒ¼ãƒˆã‚’å®šç¾©ã—ã¦ã€404ãƒšãƒ¼ã‚¸ã‚’å®Ÿè£…ã§ãã¾ã™ï¼š

```javascript
const routes = [
  // é€šå¸¸ã®ãƒ«ãƒ¼ãƒˆ
  {
    path: '/',
    name: 'Home',
    component: Home
  },
  {
    path: '/about',
    name: 'About',
    component: About
  },
  // 404ãƒšãƒ¼ã‚¸ï¼ˆæœ€å¾Œã«é…ç½®ï¼‰
  {
    path: '/:pathMatch(.*)*',  // ã™ã¹ã¦ã®ãƒ‘ã‚¹ã«ãƒãƒƒãƒ
    name: 'NotFound',
    component: NotFound
  }
]
```

```vue
<!-- NotFound.vue -->
<template>
  <div class="not-found">
    <div class="error-container">
      <h1>404</h1>
      <h2>ãƒšãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“</h2>
      <p>ãŠæ¢ã—ã®ãƒšãƒ¼ã‚¸ã¯å­˜åœ¨ã—ãªã„ã‹ã€ç§»å‹•ã•ã‚ŒãŸå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</p>
      <div class="actions">
        <router-link to="/" class="btn btn-primary">ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹</router-link>
        <button @click="goBack" class="btn btn-secondary">å‰ã®ãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹</button>
      </div>
    </div>
  </div>
</template>

<script setup>
import { useRouter } from 'vue-router'

const router = useRouter()

const goBack = () => {
  router.go(-1)
}
</script>

<style scoped>
.not-found {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 60vh;
}

.error-container {
  text-align: center;
  max-width: 500px;
  padding: 2rem;
}

.error-container h1 {
  font-size: 6rem;
  color: #e74c3c;
  margin: 0;
}

.error-container h2 {
  color: #2c3e50;
  margin: 1rem 0;
}

.actions {
  margin-top: 2rem;
  display: flex;
  gap: 1rem;
  justify-content: center;
}

.btn {
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 4px;
  text-decoration: none;
  cursor: pointer;
  transition: background-color 0.3s;
}

.btn-primary {
  background-color: #3498db;
  color: white;
}

.btn-primary:hover {
  background-color: #2980b9;
}

.btn-secondary {
  background-color: #95a5a6;
  color: white;
}

.btn-secondary:hover {
  background-color: #7f8c8d;
}
</style>
```

### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ«ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«ã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ï¼š

```javascript
const routes = [
  {
    path: '/user/:id',
    name: 'User',
    component: User,
    beforeEnter: (to, from, next) => {
      const id = parseInt(to.params.id, 10)
      if (isNaN(id) || id <= 0) {
        next('/404')  // ç„¡åŠ¹ãªIDã®å ´åˆã¯404ãƒšãƒ¼ã‚¸ã¸
      } else {
        next()
      }
    }
  },
  {
    path: '/product/:category/:id',
    name: 'Product',
    component: Product,
    beforeEnter: (to, from, next) => {
      const validCategories = ['electronics', 'clothing', 'books']
      const category = to.params.category
      const id = parseInt(to.params.id, 10)
      
      if (!validCategories.includes(category) || isNaN(id)) {
        next('/404')
      } else {
        next()
      }
    }
  }
]
```

### å‹•çš„ãƒ«ãƒ¼ãƒˆã®å®Ÿè·µä¾‹

#### ãƒ–ãƒ­ã‚°ã‚·ã‚¹ãƒ†ãƒ ã®ä¾‹

```javascript
// router/index.js
const routes = [
  {
    path: '/blog',
    name: 'BlogList',
    component: BlogList
  },
  {
    path: '/blog/:category',
    name: 'BlogCategory',
    component: BlogCategory,
    props: true  // ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’propsã¨ã—ã¦æ¸¡ã™
  },
  {
    path: '/blog/:category/:slug',
    name: 'BlogPost',
    component: BlogPost,
    props: true
  }
]
```

```vue
<!-- BlogPost.vue -->
<template>
  <article class="blog-post">
    <header class="post-header">
      <nav class="breadcrumb">
        <router-link to="/blog">ãƒ–ãƒ­ã‚°</router-link>
        <span> / </span>
        <router-link :to="{ name: 'BlogCategory', params: { category } }">
          {{ categoryName }}
        </router-link>
        <span> / </span>
        <span>{{ post.title }}</span>
      </nav>
      <h1>{{ post.title }}</h1>
      <div class="post-meta">
        <span class="author">{{ post.author }}</span>
        <span class="date">{{ formatDate(post.publishedAt) }}</span>
      </div>
    </header>
    <div class="post-content" v-html="post.content"></div>
  </article>
</template>

<script setup>
import { ref, computed, onMounted } from 'vue'
import { useRoute } from 'vue-router'

// propsã¨ã—ã¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹
const props = defineProps({
  category: String,
  slug: String
})

const route = useRoute()
const post = ref(null)
const loading = ref(false)

// ã‚«ãƒ†ã‚´ãƒªåã®ãƒãƒƒãƒ”ãƒ³ã‚°
const categoryNames = {
  'tech': 'ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼',
  'lifestyle': 'ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«',
  'travel': 'æ—…è¡Œ'
}

const categoryName = computed(() => 
  categoryNames[props.category] || props.category
)

onMounted(async () => {
  await loadPost()
})

const loadPost = async () => {
  loading.value = true
  try {
    const response = await fetch(`/api/blog/${props.category}/${props.slug}`)
    if (response.ok) {
      post.value = await response.json()
    } else {
      // 404ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
      route.router.push('/404')
    }
  } catch (error) {
    console.error('è¨˜äº‹ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—:', error)
  } finally {
    loading.value = false
  }
}

const formatDate = (dateString) => {
  return new Date(dateString).toLocaleDateString('ja-JP')
}
</script>
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æœ€é©åŒ–

å¤§é‡ã®å‹•çš„ãƒ«ãƒ¼ãƒˆãŒã‚ã‚‹å ´åˆã®æœ€é©åŒ–ä¾‹ï¼š

```javascript
// é…å»¶èª­ã¿è¾¼ã¿ã‚’ä½¿ç”¨
const routes = [
  {
    path: '/user/:id',
    name: 'User',
    component: () => import('../views/User.vue'),
    // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã‚’æŒ‡å®š
    meta: { 
      cache: true,
      cacheTime: 300000  // 5åˆ†é–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥
    }
  }
]
```

```vue
<!-- User.vue -->
<script setup>
import { ref, onMounted, onUnmounted } from 'vue'
import { useRoute } from 'vue-router'

const route = useRoute()
const user = ref(null)
const cache = new Map()

onMounted(async () => {
  const userId = route.params.id
  
  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ãƒã‚§ãƒƒã‚¯
  if (cache.has(userId)) {
    user.value = cache.get(userId)
    return
  }
  
  // APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
  const userData = await fetchUser(userId)
  user.value = userData
  
  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜
  cache.set(userId, userData)
})

onUnmounted(() => {
  // å¿…è¦ã«å¿œã˜ã¦ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
  const cacheTime = route.meta.cacheTime || 300000
  setTimeout(() => {
    cache.delete(route.params.id)
  }, cacheTime)
})
</script>
```

ã“ã‚Œã§ã€å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®åŒ…æ‹¬çš„ãªç†è§£ãŒã§ãã¾ã—ãŸã€‚æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ãƒã‚¹ãƒˆã—ãŸãƒ«ãƒ¼ãƒˆã«ã¤ã„ã¦è©³ã—ãèª¬æ˜ã—ã¾ã™ã€‚

## ãƒã‚¹ãƒˆã—ãŸãƒ«ãƒ¼ãƒˆ

### å­ãƒ«ãƒ¼ãƒˆã®å®šç¾©

```javascript
// router/index.js
const routes = [
  {
    path: '/user/:id',
    component: User,
    children: [
      {
        path: '',
        component: UserProfile
      },
      {
        path: 'posts',
        component: UserPosts
      },
      {
        path: 'settings',
        component: UserSettings
      }
    ]
  }
]
```

### ãƒã‚¹ãƒˆã—ãŸãƒ«ãƒ¼ãƒˆã®è¡¨ç¤º

```vue
<!-- User.vue -->
<template>
  <div class="user">
    <h1>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒšãƒ¼ã‚¸</h1>
    <nav>
      <router-link to="/user/123">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</router-link>
      <router-link to="/user/123/posts">æŠ•ç¨¿</router-link>
      <router-link to="/user/123/settings">è¨­å®š</router-link>
    </nav>
    <router-view />
  </div>
</template>
```

## ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ãƒ¼ãƒ‰

### ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¬ãƒ¼ãƒ‰

```javascript
// router/index.js
import { createRouter, createWebHistory } from 'vue-router'

const router = createRouter({
  history: createWebHistory(),
  routes
})

// ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ“ãƒ•ã‚©ãƒ¼ã‚¬ãƒ¼ãƒ‰
router.beforeEach((to, from, next) => {
  console.log('ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å‰:', to.path)
  
  // èªè¨¼ãƒã‚§ãƒƒã‚¯
  if (to.meta.requiresAuth && !isAuthenticated()) {
    next('/login')
  } else {
    next()
  }
})

// ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¢ãƒ•ã‚¿ãƒ¼ã‚¬ãƒ¼ãƒ‰
router.afterEach((to, from) => {
  console.log('ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å¾Œ:', to.path)
})
```

### ãƒ«ãƒ¼ãƒˆå›ºæœ‰ã®ã‚¬ãƒ¼ãƒ‰

```javascript
const routes = [
  {
    path: '/admin',
    component: Admin,
    beforeEnter: (to, from, next) => {
      if (isAdmin()) {
        next()
      } else {
        next('/')
      }
    }
  }
]
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã‚¬ãƒ¼ãƒ‰

```vue
<script setup>
import { onBeforeRouteLeave, onBeforeRouteUpdate } from 'vue-router'

// ãƒ«ãƒ¼ãƒˆã‚’é›¢ã‚Œã‚‹å‰
onBeforeRouteLeave((to, from, next) => {
  if (hasUnsavedChanges.value) {
    if (confirm('ä¿å­˜ã•ã‚Œã¦ã„ãªã„å¤‰æ›´ãŒã‚ã‚Šã¾ã™ã€‚æœ¬å½“ã«é›¢ã‚Œã¾ã™ã‹ï¼Ÿ')) {
      next()
    } else {
      next(false)
    }
  } else {
    next()
  }
})

// åŒã˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ãƒ«ãƒ¼ãƒˆãŒæ›´æ–°ã•ã‚Œã‚‹å‰
onBeforeRouteUpdate((to, from, next) => {
  // ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå¤‰æ›´ã•ã‚ŒãŸæ™‚ã®å‡¦ç†
  loadUserData(to.params.id)
  next()
})
</script>
```

## ãƒ«ãƒ¼ãƒˆãƒ¡ã‚¿ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰

### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®å®šç¾©

```javascript
const routes = [
  {
    path: '/admin',
    component: Admin,
    meta: {
      requiresAuth: true,
      requiresAdmin: true,
      title: 'ç®¡ç†ç”»é¢'
    }
  },
  {
    path: '/profile',
    component: Profile,
    meta: {
      requiresAuth: true,
      title: 'ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«'
    }
  }
]
```

### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ä½¿ç”¨

```vue
<script setup>
import { useRoute } from 'vue-router'

const route = useRoute()

// ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«ã®è¨­å®š
import { watch } from 'vue'
watch(() => route.meta.title, (newTitle) => {
  document.title = newTitle || 'ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¿ã‚¤ãƒˆãƒ«'
}, { immediate: true })
</script>
```

## å®Ÿè·µçš„ãªä½¿ç”¨ä¾‹

### èªè¨¼ä»˜ãã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

```javascript
// router/index.js
import { createRouter, createWebHistory } from 'vue-router'

const routes = [
  {
    path: '/',
    name: 'Home',
    component: Home
  },
  {
    path: '/login',
    name: 'Login',
    component: Login,
    meta: { guest: true }
  },
  {
    path: '/dashboard',
    name: 'Dashboard',
    component: Dashboard,
    meta: { requiresAuth: true }
  },
  {
    path: '/admin',
    name: 'Admin',
    component: Admin,
    meta: { requiresAuth: true, requiresAdmin: true }
  }
]

const router = createRouter({
  history: createWebHistory(),
  routes
})

// èªè¨¼ãƒã‚§ãƒƒã‚¯
router.beforeEach((to, from, next) => {
  const isAuthenticated = checkAuth()
  const isAdmin = checkAdmin()
  
  if (to.meta.requiresAuth && !isAuthenticated) {
    next('/login')
  } else if (to.meta.requiresAdmin && !isAdmin) {
    next('/dashboard')
  } else if (to.meta.guest && isAuthenticated) {
    next('/dashboard')
  } else {
    next()
  }
})

export default router
```

### é…å»¶èª­ã¿è¾¼ã¿ï¼ˆLazy Loadingï¼‰

```javascript
const routes = [
  {
    path: '/',
    name: 'Home',
    component: () => import('../views/Home.vue')
  },
  {
    path: '/about',
    name: 'About',
    component: () => import('../views/About.vue')
  },
  {
    path: '/admin',
    name: 'Admin',
    component: () => import('../views/Admin.vue'),
    meta: { requiresAuth: true }
  }
]
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```vue
<!-- ErrorBoundary.vue -->
<template>
  <div v-if="error" class="error">
    <h1>ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</h1>
    <p>{{ error.message }}</p>
    <button @click="retry">å†è©¦è¡Œ</button>
  </div>
  <router-view v-else />
</template>

<script setup>
import { ref, onErrorCaptured } from 'vue'

const error = ref(null)

onErrorCaptured((err) => {
  error.value = err
  return false
})

const retry = () => {
  error.value = null
}
</script>
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

Vue Router 4ã‚’ä½¿ç”¨ã™ã‚‹éš›ã«ã‚ˆãé­é‡ã™ã‚‹å•é¡Œã¨ãã®è§£æ±ºæ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

#### 1. ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œãªã„ï¼ˆ404ã‚¨ãƒ©ãƒ¼ï¼‰

**å•é¡Œ**: ãƒ«ãƒ¼ãƒˆã‚’è¨­å®šã—ãŸã®ã«ãƒšãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› ã¨è§£æ±ºæ–¹æ³•**:

```javascript
// âŒ é–“é•ã£ãŸä¾‹
const routes = [
  {
    path: '/user/:id',
    component: User  // componentãŒæœªå®šç¾©
  }
]

// âœ… æ­£ã—ã„ä¾‹
import User from '../views/User.vue'

const routes = [
  {
    path: '/user/:id',
    component: User
  }
]
```

**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ**:
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒæ­£ã—ãã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã‹
- ãƒ«ãƒ¼ãƒˆã®ãƒ‘ã‚¹ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹
- `<router-view />`ãŒé…ç½®ã•ã‚Œã¦ã„ã‚‹ã‹

#### 2. ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œã—ãªã„

**å•é¡Œ**: `<router-link>`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚‚ãƒšãƒ¼ã‚¸ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‰ãªã„

**è§£æ±ºæ–¹æ³•**:

```vue
<!-- âŒ é–“é•ã£ãŸä¾‹ -->
<template>
  <a href="/about">ã«ã¤ã„ã¦</a>  <!-- é€šå¸¸ã®aã‚¿ã‚° -->
</template>

<!-- âœ… æ­£ã—ã„ä¾‹ -->
<template>
  <router-link to="/about">ã«ã¤ã„ã¦</router-link>
</template>
```

#### 3. ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå–å¾—ã§ããªã„

**å•é¡Œ**: å‹•çš„ãƒ«ãƒ¼ãƒˆã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå–å¾—ã§ããªã„

**è§£æ±ºæ–¹æ³•**:

```vue
<script setup>
import { useRoute } from 'vue-router'
import { watch } from 'vue'

const route = useRoute()

// âŒ é–“é•ã£ãŸä¾‹ï¼ˆãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã§ãªã„ï¼‰
const userId = route.params.id

// âœ… æ­£ã—ã„ä¾‹ï¼ˆãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ï¼‰
const userId = computed(() => route.params.id)

// ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å¤‰æ›´ã‚’ç›£è¦–
watch(() => route.params.id, (newId) => {
  console.log('æ–°ã—ã„ID:', newId)
})
</script>
```

#### 4. å±¥æ­´ãŒæ­£ã—ãå‹•ä½œã—ãªã„

**å•é¡Œ**: ãƒ–ãƒ©ã‚¦ã‚¶ã®æˆ»ã‚‹/é€²ã‚€ãƒœã‚¿ãƒ³ãŒæœŸå¾…é€šã‚Šã«å‹•ä½œã—ãªã„

**è§£æ±ºæ–¹æ³•**:

```javascript
// router/index.js
import { createRouter, createWebHistory } from 'vue-router'

const router = createRouter({
  // âœ… HTML5 History APIã‚’ä½¿ç”¨
  history: createWebHistory(),
  routes
})

// âŒ Hash Modeã¯é€šå¸¸æ¨å¥¨ã•ã‚Œãªã„
// history: createWebHashHistory()
```

**ã‚µãƒ¼ãƒãƒ¼è¨­å®šãŒå¿…è¦**:
```nginx
# Nginxè¨­å®šä¾‹
location / {
  try_files $uri $uri/ /index.html;
}
```

#### 5. ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ãƒ¼ãƒ‰ãŒç„¡é™ãƒ«ãƒ¼ãƒ—ã™ã‚‹

**å•é¡Œ**: èªè¨¼ãƒã‚§ãƒƒã‚¯ã§ç„¡é™ãƒ«ãƒ¼ãƒ—ãŒç™ºç”Ÿã™ã‚‹

**è§£æ±ºæ–¹æ³•**:

```javascript
// âŒ é–“é•ã£ãŸä¾‹ï¼ˆç„¡é™ãƒ«ãƒ¼ãƒ—ï¼‰
router.beforeEach((to, from, next) => {
  if (!isAuthenticated()) {
    router.push('/login')  // ã“ã‚ŒãŒç„¡é™ãƒ«ãƒ¼ãƒ—ã‚’å¼•ãèµ·ã“ã™
  } else {
    next()
  }
})

// âœ… æ­£ã—ã„ä¾‹
router.beforeEach((to, from, next) => {
  if (!isAuthenticated() && to.path !== '/login') {
    next('/login')  // next()ã‚’ä½¿ç”¨
  } else {
    next()
  }
})
```

#### 6. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå†ãƒã‚¦ãƒ³ãƒˆã•ã‚Œãªã„

**å•é¡Œ**: åŒã˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œãªã„

**è§£æ±ºæ–¹æ³•**:

```vue
<script setup>
import { useRoute } from 'vue-router'
import { watch, onMounted } from 'vue'

const route = useRoute()

// ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å¤‰æ›´ã‚’ç›£è¦–
watch(() => route.params.id, async (newId) => {
  await loadData(newId)
})

// ã¾ãŸã¯ onBeforeRouteUpdate ã‚’ä½¿ç”¨
import { onBeforeRouteUpdate } from 'vue-router'

onBeforeRouteUpdate(async (to, from, next) => {
  await loadData(to.params.id)
  next()
})
</script>
```

#### 7. ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãå–å¾—ã§ããªã„

**å•é¡Œ**: ãƒ«ãƒ¼ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãŒå–å¾—ã§ããªã„

**è§£æ±ºæ–¹æ³•**:

```javascript
// router/index.js
const routes = [
  {
    path: '/admin',
    component: Admin,
    meta: {
      requiresAuth: true,
      title: 'ç®¡ç†ç”»é¢'
    }
  }
]
```

```vue
<script setup>
import { useRoute } from 'vue-router'
import { computed } from 'vue'

const route = useRoute()

// âœ… æ­£ã—ã„å–å¾—æ–¹æ³•
const pageTitle = computed(() => route.meta.title)
const requiresAuth = computed(() => route.meta.requiresAuth)
</script>
```

### ãƒ‡ãƒãƒƒã‚°ã®ã‚³ãƒ„

#### 1. ãƒ«ãƒ¼ã‚¿ãƒ¼ã®çŠ¶æ…‹ã‚’ç¢ºèª

```vue
<script setup>
import { useRoute, useRouter } from 'vue-router'

const route = useRoute()
const router = useRouter()

// ãƒ‡ãƒãƒƒã‚°ç”¨
console.log('ç¾åœ¨ã®ãƒ«ãƒ¼ãƒˆ:', route)
console.log('ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹:', router)
</script>
```

#### 2. ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ãƒ¼ãƒ‰ã§ã®ãƒ‡ãƒãƒƒã‚°

```javascript
router.beforeEach((to, from, next) => {
  console.log('ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å‰:', {
    to: to.path,
    from: from.path,
    params: to.params,
    query: to.query
  })
  next()
})
```

#### 3. ãƒ«ãƒ¼ãƒˆãƒãƒƒãƒãƒ³ã‚°ã®ç¢ºèª

```javascript
// ãƒ«ãƒ¼ãƒˆãŒæ­£ã—ããƒãƒƒãƒã™ã‚‹ã‹ãƒ†ã‚¹ãƒˆ
const matchedRoutes = router.resolve('/user/123')
console.log('ãƒãƒƒãƒã—ãŸãƒ«ãƒ¼ãƒˆ:', matchedRoutes)
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œ

#### 1. å¤§é‡ã®ãƒ«ãƒ¼ãƒˆãŒã‚ã‚‹å ´åˆ

```javascript
// é…å»¶èª­ã¿è¾¼ã¿ã‚’ä½¿ç”¨
const routes = [
  {
    path: '/user/:id',
    component: () => import('../views/User.vue')
  }
]
```

#### 2. ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ã

```vue
<script setup>
import { useRoute } from 'vue-router'
import { computed } from 'vue'

const route = useRoute()

// å¿…è¦ãªéƒ¨åˆ†ã®ã¿ã‚’ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ã™ã‚‹
const userId = computed(() => route.params.id)
const queryParams = computed(() => route.query)
</script>
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

#### 1. ãƒ«ãƒ¼ãƒˆã‚¨ãƒ©ãƒ¼ã®å‡¦ç†

```javascript
// router/index.js
const router = createRouter({
  history: createWebHistory(),
  routes
})

// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
router.onError((error) => {
  console.error('ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚¨ãƒ©ãƒ¼:', error)
  // ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
  router.push('/error')
})
```

#### 2. éåŒæœŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¨ãƒ©ãƒ¼

```javascript
const routes = [
  {
    path: '/user/:id',
    component: () => import('../views/User.vue').catch(() => {
      // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
      return import('../views/Error.vue')
    })
  }
]
```

### ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### 1. ãƒ«ãƒ¼ãƒˆã®æ•´ç†

```javascript
// routes/index.js - ãƒ«ãƒ¼ãƒˆã‚’åˆ†å‰²
export const publicRoutes = [
  { path: '/', component: Home },
  { path: '/about', component: About }
]

export const authRoutes = [
  { path: '/login', component: Login },
  { path: '/register', component: Register }
]

export const protectedRoutes = [
  { path: '/dashboard', component: Dashboard, meta: { requiresAuth: true } }
]
```

#### 2. å‹å®‰å…¨æ€§ã®å‘ä¸Šï¼ˆTypeScriptä½¿ç”¨æ™‚ï¼‰

```typescript
// types/router.ts
declare module 'vue-router' {
  interface RouteMeta {
    requiresAuth?: boolean
    title?: string
    roles?: string[]
  }
}
```

#### 3. ãƒ«ãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆ

```javascript
// tests/router.test.js
import { createRouter, createWebHistory } from 'vue-router'
import { routes } from '../router'

describe('Router', () => {
  const router = createRouter({
    history: createWebHistory(),
    routes
  })

  test('ãƒ«ãƒ¼ãƒˆãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹', () => {
    expect(router.getRoutes()).toHaveLength(routes.length)
  })

  test('ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ«ãƒ¼ãƒˆãŒæ­£ã—ããƒãƒƒãƒã™ã‚‹', () => {
    const resolved = router.resolve('/user/123')
    expect(resolved.name).toBe('User')
    expect(resolved.params.id).toBe('123')
  })
})
```

## ã¾ã¨ã‚

Vue Router 4ã¯ã€Vue3ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’å¼·åŠ›ã«ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚ã“ã®è¨˜äº‹ã§ç´¹ä»‹ã—ãŸå†…å®¹ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ï¼š

- **åŸºæœ¬çš„ãªSPAã®æ§‹ç¯‰**: ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‹ã‚‰å§‹ã‚ã‚‰ã‚Œã¾ã™
- **å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ã£ãŸæŸ”è»Ÿãªãƒ«ãƒ¼ãƒˆè¨­è¨ˆ
- **èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **: ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ãƒ¼ãƒ‰ã‚’ä½¿ã£ãŸå®‰å…¨ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: é…å»¶èª­ã¿è¾¼ã¿ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªãƒãƒ³ãƒ‰ãƒ«ç®¡ç†
- **ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: ã‚ˆãã‚ã‚‹å•é¡Œã®è§£æ±ºæ–¹æ³•

Vue Router 4ã®æ©Ÿèƒ½ã‚’ç†è§£ã—ã€é©åˆ‡ã«æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã§ä¿å®ˆæ€§ã®é«˜ã„Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚

### å­¦ç¿’ã®æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å®Ÿè·µ**: å°ã•ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å§‹ã‚ã¦ã€æ®µéšçš„ã«æ©Ÿèƒ½ã‚’è¿½åŠ 
2. **SSRã¨ã®é€£æº**: Nuxt.jsãªã©ã§ã®ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
3. **é«˜åº¦ãªæ©Ÿèƒ½**: ãƒ«ãƒ¼ãƒˆã®é…å»¶èª­ã¿è¾¼ã¿ã€ãƒ—ãƒªãƒ•ã‚§ãƒƒãƒãƒ³ã‚°
4. **ãƒ†ã‚¹ãƒˆ**: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿèƒ½ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨E2Eãƒ†ã‚¹ãƒˆ

## å‚è€ƒãƒªãƒ³ã‚¯

- [Vue Router å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://router.vuejs.org/)
- [Vue3 å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://vuejs.org/)
- [Composition API ã‚¬ã‚¤ãƒ‰](https://vuejs.org/guide/composition-api/)
- [Vue Router 4 ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰](https://router.vuejs.org/guide/migration/)

---

ã“ã®è¨˜äº‹ãŒVue3ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å­¦ç¿’ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚è³ªå•ã‚„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãŒã‚ã‚Œã°ã€ãŠæ°—è»½ã«ã‚³ãƒ¡ãƒ³ãƒˆã—ã¦ãã ã•ã„ï¼
