---
title: "OSI参照モデルについて調べてみた"
emoji: "🔖"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["TCP/IP","ネットワーク","初心者向け"]
published: false
---

はい、OSI参照モデルについて詳しく解説しますね。

OSI参照モデルは、コンピュータネットワークの通信機能を7つの階層に分けて定義したモデルです。国際標準化機構（ISO）によって策定され、ネットワークの仕組みを理解するための共通の「ものさし」として利用されています。

なぜ階層に分けるのかというと、各層がそれぞれ特定の役割に集中でき、全体のシステムをシンプルに設計・理解できるからです。例えば、ウェブサイトを閲覧する際、私たちはアプリケーションのことだけを考えればよく、電気信号やケーブルの種類まで意識する必要はありません。これは、各層が独立して機能しているおかげです。

---

### ## OSI参照モデルの7階層

それでは、各階層の役割を、身近な例を交えながら上から順に見ていきましょう。データは送信時に第7層から第1層へと送られ（**カプセル化**）、受信時には第1層から第7層へと上がっていきます（**非カプセル化**）。



#### ### 第7層：アプリケーション層 (Application Layer)
ユーザーが直接操作するアプリケーションに、通信サービスを提供します。私たちが普段使っているネットワーク対応のソフトウェアがこの層で機能します。

* **役割:** アプリケーション間のデータ交換のルールを定める。
* **具体例:**
    * Webブラウジング (HTTP/HTTPS)
    * メールの送受信 (SMTP, POP3, IMAP)
    * ファイルの転送 (FTP)
    * ドメイン名とIPアドレスの変換 (DNS)

#### ### 第6層：プレゼンテーション層 (Presentation Layer)
アプリケーションが扱うデータを、通信に適した形式に変換したり、元に戻したりします。データの「通訳さん」のような役割です。

* **役割:** データの表現形式の統一、データの圧縮・伸張、暗号化・復号。
* **具体例:**
    * 文字コードの変換 (例: EBCDICからASCIIへ)
    * 画像の形式 (JPEG, GIF)
    * 通信の暗号化 (TLS/SSL)

#### ### 第5層：セッション層 (Session Layer)
通信の開始から終了までの一連の流れ（セッション）を管理します。通信プログラム間の対話を確立し、維持し、終了させる役割を担います。

* **役割:** コネクションの確立、維持、切断の管理。
* **具体例:**
    * TLS/SSLのハンドシェイク（暗号化通信の開始手続き）
    * NetBIOS

---

#### ### 第4層：トランスポート層 (Transport Layer)
送信元から宛先のコンピュータまで、データが確実に届くように管理します。通信の信頼性を担保する重要な層です。

* **役割:** エンドツーエンドのデータ転送、エラー訂正、再送制御。
* **代表的なプロトコル:**
    * **TCP (Transmission Control Protocol):** 信頼性重視。データが正確に届いたかを確認し、届いていない場合は再送する。Webブラウジングやメールなど、正確さが求められる通信で使われます。
    * **UDP (User Datagram Protocol):** 速度・リアルタイム性重視。確認や再送を行わないため高速。動画ストリーミングやオンラインゲームなど、多少のデータ欠損よりも速さが重要な通信で使われます。
* **データ単位:** セグメント

#### ### 第3層：ネットワーク層 (Network Layer)
異なるネットワーク間を越えて、データを目的地まで届けるための最適な経路を選択（ルーティング）します。インターネット全体での住所（IPアドレス）を管理し、データの道案内をします。

* **役割:** ネットワーク間のルーティング、アドレス管理。
* **代表的なプロトコル:** IP (Internet Protocol)
* **扱うアドレス:** IPアドレス
* **関連機器:** ルータ
* **データ単位:** パケット

---

#### ### 第2層：データリンク層 (Data Link Layer)
同じネットワーク内（直接接続された機器間）での通信を制御します。物理的な伝送媒体で発生するエラーの検出や訂正も行います。

* **役割:** 隣接ノード間のデータ転送、物理アドレス（MACアドレス）の管理、エラー検出。
* **代表的なプロトコル:** Ethernet, Wi-Fi
* **扱うアドレス:** MACアドレス
* **関連機器:** スイッチ、ブリッジ
* **データ単位:** フレーム

#### ### 第1層：物理層 (Physical Layer)
データを電気信号や光信号、電波などに変換し、物理的な媒体（ケーブルなど）を通じて送受信します。デジタルデータ（0と1）を物理的な信号に変換するルールを定めます。

* **役割:** データの物理的な伝送。
* **具体例:** LANケーブルのコネクタ形状、ケーブルの種類（ツイストペアケーブル、光ファイバー）、電圧レベルなど。
* **関連機器:** ハブ、リピータ、ネットワークケーブル
* **データ単位:** ビット

### ## データの流れ：カプセル化と非カプセル化

データを送信する際、データは第7層から下の層へと渡されていきます。その過程で、各層は自分の役割に必要な制御情報（**ヘッダ**）をデータに付加していきます。これを**カプセル化**と呼びます。ちょうど、荷物を送るときに、品物（データ）を箱に入れ（パケット）、宛名ラベル（ヘッダ）を貼っていくようなイメージです。

受信側ではこの逆のプロセスが行われます。第1層で受け取った信号をデータに戻し、上の層に渡していく際に、各層は対応するヘッダを剥がしていきます。これを**非カプセル化**と呼び、最終的に第7層で元のデータがアプリケーションに渡されます。



---

### ## OSI参照モデルとTCP/IPモデル

現在のインターネットは、OSI参照モデルよりもシンプルな**TCP/IPモデル**（4階層）が事実上の標準として使われています。しかし、OSI参照モデルはネットワークの機能を細かく定義しているため、トラブルシューティングやネットワーク技術を学習する上で非常に重要な概念モデルです。

OSI参照モデルは、複雑なネットワーク通信を理解するための地図のようなものです。このモデルを理解することで、ネットワークで問題が発生した際に、どの階層で問題が起きているのかを切り分けて考える助けになります。